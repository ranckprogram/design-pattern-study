<script>

    // 我感觉组合模式是将不同的实例化的对象组合在一起，不同的对象可以为同类，也可以不同类
    function Component(name) {
        this.name = name
        this.componentList = []
    }
    Component.constructor = Component
    Component.prototype = {
        add: function(component) {
            this.componentList.push(component)
        },
        remove: function(component) {
            this.componentList.filter(component => (component !== component))
        }
    }

    var root = new Component('leader')
    root.add(new Component('height people'))
    root.add(new Component('height worker'))
    root.add(new Component('height other'))

    console.dir(root)



    function People (name) {
        this.name = name
        this.parts = {}
    }

    People.prototype.add = function (part) {
        console.dir(part)
        this.parts[part.name] = part
        // if(part in this.parts){
        //     console.dir('已经存在', part)
        // } else {
        //     this.parts[part] = part
        // }
    }

    function Organ (name) {
        this.name = name
        this.say = function () {
            console.dir(this.name)
        }
    }

    var p = new People('ranck')

    p.add(new Organ('hand'))
    p.add(new Organ('foot'))

    console.dir(p)
    p.parts.foot.say() // 这里有待优化
</script>